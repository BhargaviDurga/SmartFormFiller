{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jada Bhargavi Durga\\\\Desktop\\\\Smart_form_filler\\\\frontend\\\\src\\\\pages\\\\UploadID.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Upload, Edit2, Save, RefreshCw, ArrowRight, ChevronDown, Check, X, Repeat, Trash2, Camera, Smartphone, Monitor, RotateCcw } from 'lucide-react';\nimport './UploadID.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\nfunction UploadID() {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [files, setFiles] = useState([]);\n  const [filePreviews, setFilePreviews] = useState([]);\n  const [extractedData, setExtractedData] = useState({});\n  const [editableData, setEditableData] = useState({});\n  const [isEditing, setIsEditing] = useState(false);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showScrollIndicator, setShowScrollIndicator] = useState(false);\n  const extractedDataRef = useRef(null);\n  const [showCamera, setShowCamera] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [currentFacingMode, setCurrentFacingMode] = useState(null);\n  const [isCameraReady, setIsCameraReady] = useState(false);\n  const videoRef = useRef(null);\n  const streamRef = useRef(null);\n  const [loading, setLoading] = useState(true);\n  const [keyOrder, setKeyOrder] = useState([\"Name\", \"First Name\", \"Last Name\", \"Date of Birth\", \"Phone Number\", \"Aadhaar Number\", \"Gender\", \"PAN Number\", \"Address\"]);\n  useEffect(() => {\n    // Hide preloader after 5 seconds\n    const timer = setTimeout(() => {\n      setLoading(false);\n    }, 6000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Retrieve state from location if available\n  useEffect(() => {\n    if (location.state) {\n      const {\n        idFiles,\n        extractedData\n      } = location.state;\n      setFiles(idFiles);\n      setExtractedData(extractedData);\n      setEditableData(extractedData);\n      setFilePreviews(idFiles.map(file => URL.createObjectURL(file)));\n      // Update key order based on the order from the backend, if available\n      const receivedKeys = Object.keys(extractedData);\n      if (receivedKeys.length > 0) {\n        setKeyOrder(receivedKeys);\n      }\n    }\n  }, [location.state]);\n\n  // Detect if device is mobile\n  useEffect(() => {\n    const checkMobile = () => {\n      const userAgent = navigator.userAgent.toLowerCase();\n      const mobileRegex = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;\n      setIsMobile(mobileRegex.test(userAgent));\n    };\n    checkMobile();\n  }, []);\n\n  // Handle camera initialization after video element is mounted\n  useEffect(() => {\n    if (showCamera && videoRef.current && !isCameraReady) {\n      initializeCamera();\n    }\n  }, [showCamera]);\n  const initializeCamera = async () => {\n    try {\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        throw new Error('Camera API is not supported in this browser');\n      }\n\n      // Set initial facing mode based on device type\n      const facingMode = isMobile ? 'environment' : 'user';\n      const constraints = {\n        video: {\n          facingMode: facingMode,\n          width: {\n            ideal: 1920\n          },\n          height: {\n            ideal: 1080\n          }\n        }\n      };\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        streamRef.current = stream;\n        setCurrentFacingMode(facingMode);\n        setIsCameraReady(true);\n\n        // Ensure video plays after loading\n        videoRef.current.onloadedmetadata = () => {\n          videoRef.current.play().catch(e => console.error('Error playing video:', e));\n        };\n      }\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setError(getErrorMessage(err));\n      setShowCamera(false);\n    }\n  };\n  const getErrorMessage = error => {\n    if (error.name === 'NotAllowedError' || error.name === 'PermissionDeniedError') {\n      return 'Camera access denied. Please grant camera permissions and try again.';\n    } else if (error.name === 'NotFoundError' || error.name === 'DevicesNotFoundError') {\n      return 'No camera found on your device.';\n    } else if (error.name === 'NotReadableError' || error.name === 'TrackStartError') {\n      return 'Camera is in use by another application.';\n    } else {\n      return `Failed to access camera: ${error.message}`;\n    }\n  };\n  const toggleCamera = () => {\n    if (showCamera) {\n      stopCamera();\n    } else {\n      setShowCamera(true);\n    }\n  };\n  const switchCamera = async () => {\n    const newFacingMode = currentFacingMode === 'user' ? 'environment' : 'user';\n    stopCamera();\n\n    // Short delay to ensure previous stream is properly stopped\n    setTimeout(() => {\n      setShowCamera(true);\n      setCurrentFacingMode(newFacingMode);\n    }, 100);\n  };\n  const stopCamera = () => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n    setShowCamera(false);\n    setIsCameraReady(false);\n    setCurrentFacingMode(null);\n  };\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      stopCamera();\n    };\n  }, []);\n  const capturePhoto = () => {\n    if (videoRef.current) {\n      const canvas = document.createElement('canvas');\n      canvas.width = videoRef.current.videoWidth;\n      canvas.height = videoRef.current.videoHeight;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(videoRef.current, 0, 0);\n      canvas.toBlob(blob => {\n        const file = new File([blob], `camera-capture-${Date.now()}.jpg`, {\n          type: 'image/jpeg'\n        });\n        setFiles(prevFiles => [...prevFiles, file]);\n        setFilePreviews(prevPreviews => [...prevPreviews, URL.createObjectURL(blob)]);\n      }, 'image/jpeg', 0.95);\n      stopCamera();\n    }\n  };\n  const handleEditToggle = () => {\n    setIsEditing(!isEditing);\n    if (!isEditing) {\n      // Reset editable data to current extracted data when starting edit\n      setEditableData({\n        ...extractedData\n      });\n    }\n  };\n  const handleInlineEdit = (key, value) => {\n    setEditableData(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const handleFileChange = event => {\n    const selectedFiles = Array.from(event.target.files);\n    setFiles(prevFiles => [...prevFiles, ...selectedFiles]);\n    setFilePreviews(prevPreviews => [...prevPreviews, ...selectedFiles.map(file => URL.createObjectURL(file))]);\n  };\n  const scrollToExtractedData = () => {\n    var _extractedDataRef$cur;\n    (_extractedDataRef$cur = extractedDataRef.current) === null || _extractedDataRef$cur === void 0 ? void 0 : _extractedDataRef$cur.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const handleUpload = async () => {\n    if (files.length === 0) {\n      setError('Please select at least one ID document');\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    const formData = new FormData();\n    files.forEach(file => formData.append('files', file));\n    try {\n      const response = await axios.post(`${API_BASE_URL}/upload-id`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const newExtractedData = response.data.extracted_data;\n      setExtractedData(prevData => ({\n        ...prevData,\n        ...newExtractedData\n      }));\n      setEditableData(prevData => ({\n        ...prevData,\n        ...newExtractedData\n      }));\n      setShowScrollIndicator(true);\n      // Short delay to ensure the data is rendered before scrolling\n      setTimeout(scrollToExtractedData, 500);\n    } catch (error) {\n      console.error('Error uploading files:', error);\n      setError('Failed to upload files. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleEditChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setEditableData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n  const handleDeleteFile = indexToDelete => {\n    setFiles(prevFiles => prevFiles.filter((_, index) => index !== indexToDelete));\n    setFilePreviews(prevPreviews => prevPreviews.filter((_, index) => index !== indexToDelete));\n\n    // If we're deleting the last file, also clear the extracted data\n    if (files.length === 1) {\n      setExtractedData({});\n      setEditableData({});\n    }\n  };\n  const handleUpdateData = async () => {\n    try {\n      setIsLoading(true);\n      await axios.post(`${API_BASE_URL}/update-data`, editableData, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      setExtractedData(editableData);\n      setIsEditing(false);\n      setError(null);\n    } catch (error) {\n      console.error('Error updating data:', error);\n      setError('Failed to update data. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleCancelEdit = () => {\n    setEditableData({\n      ...extractedData\n    });\n  };\n  const handleUploadForm = () => {\n    navigate('/upload-form', {\n      state: {\n        idFiles: files,\n        extractedData\n      }\n    });\n  };\n  const handleSwapNames = () => {\n    let Name = editableData['Name'] || '';\n    let firstName = editableData['First Name'] || '';\n    let lastName = editableData['Last Name'] || '';\n    if (Name) {\n      let nameParts = Name.split(' ');\n      if (nameParts.length > 1) {\n        setEditableData({\n          ...editableData,\n          'First Name': nameParts.slice(1).join(' '),\n          'Last Name': nameParts[0]\n        });\n      } else {\n        setEditableData({\n          ...editableData,\n          'First Name': '',\n          'Last Name': firstName\n        });\n      }\n    }\n  };\n  const renderExtractedData = () => {\n    if (!extractedData || Object.keys(extractedData).length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No data extracted yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-card\",\n      children: keyOrder.map(key => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"data-label\",\n          children: [key, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"editable-value\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editableData[key] || '',\n            onChange: e => handleInlineEdit(key, e.target.value),\n            className: \"inline-edit-input\",\n            autoFocus: key === keyOrder[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Edit2, {\n            size: 16,\n            className: \"edit-indicator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this), key === 'Last Name' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSwapNames,\n            className: \"swap-names-button\",\n            title: \"Correct First and Last Names\",\n            children: /*#__PURE__*/_jsxDEV(Repeat, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"data-value\",\n          children: extractedData[key] || ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 15\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `preloader ${!loading ? 'preloader-hidden' : ''}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preloader-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"preloader-title\",\n          children: \"Smart Form Filler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"preloader-caption\",\n          children: \"Intelligent Document Processing Made Easy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `upload-container ${!loading ? 'content-visible' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"Upload Your ID Card\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-options\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"file-upload-label\",\n            children: [/*#__PURE__*/_jsxDEV(Upload, {\n              className: \"upload-icon\",\n              size: 32\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Click here or drop your ID card images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: handleFileChange,\n              multiple: true,\n              className: \"file-input\",\n              accept: \"image/*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"camera-button\",\n            onClick: toggleCamera,\n            children: [/*#__PURE__*/_jsxDEV(Camera, {\n              size: 32\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: showCamera ? 'Cancel Camera' : 'Use Camera'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"device-indicator\",\n              children: isMobile ? /*#__PURE__*/_jsxDEV(Smartphone, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(Monitor, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 54\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 9\n        }, this), showCamera && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"camera-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            autoPlay: true,\n            playsInline: true,\n            className: currentFacingMode === 'user' ? 'camera-preview mirror' : 'camera-preview'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), isCameraReady && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"camera-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"capture-button\",\n              onClick: capturePhoto,\n              title: \"Take Photo\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"capture-button-inner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"switch-camera-button\",\n              onClick: switchCamera,\n              title: \"Switch Camera\",\n              children: /*#__PURE__*/_jsxDEV(RotateCcw, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `preview-container ${files.length === 1 ? 'single-preview' : ''}`,\n          children: filePreviews.map((preview, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"preview-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: preview,\n              alt: `Uploaded ID ${index + 1}`,\n              className: \"preview-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"preview-overlay\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"preview-number\",\n                children: [\"ID \", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-button\",\n                onClick: e => {\n                  e.stopPropagation();\n                  handleDeleteFile(index);\n                },\n                title: \"Delete Image\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 9\n        }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpload,\n          className: `action-button upload-button ${isLoading ? 'loading' : ''}`,\n          disabled: isLoading,\n          children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this), \"Processing...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Upload, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this), \"Process ID Cards\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 7\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 17\n      }, this), showScrollIndicator && !isLoading && Object.keys(extractedData).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scroll-indicator\",\n        onClick: scrollToExtractedData,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"View Extracted Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n          size: 24,\n          className: \"bounce\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this), Object.keys(extractedData).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"extracted-data-section\",\n        ref: extractedDataRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"section-title\",\n            children: \"Extracted Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-controls\",\n            children: isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleUpdateData,\n                className: \"action-button save-button\",\n                disabled: isLoading,\n                children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"button-spinner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Check, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 25\n                  }, this), \"Save Changes\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCancelEdit,\n                className: \"action-button cancel-button\",\n                disabled: isLoading,\n                children: [/*#__PURE__*/_jsxDEV(X, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 21\n                }, this), \"Cancel\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleEditToggle,\n              className: \"action-button edit-button\",\n              children: [/*#__PURE__*/_jsxDEV(Edit2, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this), \"Edit Details\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 11\n        }, this), renderExtractedData(), !isEditing && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUploadForm,\n          className: \"action-button next-button\",\n          children: [\"Continue to Form\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"logo-text\",\n            children: \"Smart Form Filler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"logo-caption\",\n            children: \"Intelligent Document Processing Made Easy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(UploadID, \"8BOHLr7rl/6028SReJoEkibdA3M=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = UploadID;\nexport default UploadID;\nvar _c;\n$RefreshReg$(_c, \"UploadID\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","useNavigate","useLocation","Upload","Edit2","Save","RefreshCw","ArrowRight","ChevronDown","Check","X","Repeat","Trash2","Camera","Smartphone","Monitor","RotateCcw","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","UploadID","_s","navigate","location","files","setFiles","filePreviews","setFilePreviews","extractedData","setExtractedData","editableData","setEditableData","isEditing","setIsEditing","error","setError","isLoading","setIsLoading","showScrollIndicator","setShowScrollIndicator","extractedDataRef","showCamera","setShowCamera","isMobile","setIsMobile","currentFacingMode","setCurrentFacingMode","isCameraReady","setIsCameraReady","videoRef","streamRef","loading","setLoading","keyOrder","setKeyOrder","timer","setTimeout","clearTimeout","state","idFiles","map","file","URL","createObjectURL","receivedKeys","Object","keys","length","checkMobile","userAgent","navigator","toLowerCase","mobileRegex","test","current","initializeCamera","mediaDevices","getUserMedia","Error","facingMode","constraints","video","width","ideal","height","stream","srcObject","onloadedmetadata","play","catch","e","console","err","getErrorMessage","name","message","toggleCamera","stopCamera","switchCamera","newFacingMode","getTracks","forEach","track","stop","capturePhoto","canvas","document","createElement","videoWidth","videoHeight","ctx","getContext","drawImage","toBlob","blob","File","Date","now","type","prevFiles","prevPreviews","handleEditToggle","handleInlineEdit","key","value","prev","handleFileChange","event","selectedFiles","Array","from","target","scrollToExtractedData","_extractedDataRef$cur","scrollIntoView","behavior","handleUpload","formData","FormData","append","response","post","headers","newExtractedData","data","extracted_data","prevData","handleEditChange","handleDeleteFile","indexToDelete","filter","_","index","handleUpdateData","handleCancelEdit","handleUploadForm","handleSwapNames","Name","firstName","lastName","nameParts","split","slice","join","renderExtractedData","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onChange","autoFocus","size","onClick","title","multiple","accept","ref","autoPlay","playsInline","preview","src","alt","stopPropagation","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Jada Bhargavi Durga/Desktop/Smart_form_filler/frontend/src/pages/UploadID.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { Upload, Edit2, Save, RefreshCw, ArrowRight, ChevronDown, Check, X, Repeat, Trash2, Camera, Smartphone, Monitor, RotateCcw } from 'lucide-react';\r\nimport './UploadID.css';\r\n\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n\r\nfunction UploadID() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [files, setFiles] = useState([]);\r\n  const [filePreviews, setFilePreviews] = useState([]);\r\n  const [extractedData, setExtractedData] = useState({});\r\n  const [editableData, setEditableData] = useState({});\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showScrollIndicator, setShowScrollIndicator] = useState(false);\r\n  const extractedDataRef = useRef(null);\r\n  const [showCamera, setShowCamera] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [currentFacingMode, setCurrentFacingMode] = useState(null);\r\n  const [isCameraReady, setIsCameraReady] = useState(false);\r\n  const videoRef = useRef(null);\r\n  const streamRef = useRef(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [keyOrder, setKeyOrder] = useState([\r\n          \"Name\",\r\n          \"First Name\",\r\n          \"Last Name\",\r\n          \"Date of Birth\",\r\n          \"Phone Number\",\r\n          \"Aadhaar Number\",\r\n          \"Gender\",\r\n          \"PAN Number\",\r\n          \"Address\"\r\n      ]);\r\n  useEffect(() => {\r\n    // Hide preloader after 5 seconds\r\n    const timer = setTimeout(() => {\r\n      setLoading(false);\r\n    }, 6000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // Retrieve state from location if available\r\n  useEffect(() => {\r\n    if (location.state) {\r\n      const { idFiles, extractedData } = location.state;\r\n      setFiles(idFiles);\r\n      setExtractedData(extractedData);\r\n      setEditableData(extractedData);\r\n      setFilePreviews(idFiles.map(file => URL.createObjectURL(file)));\r\n      // Update key order based on the order from the backend, if available\r\n      const receivedKeys = Object.keys(extractedData);\r\n      if (receivedKeys.length > 0) {\r\n          setKeyOrder(receivedKeys);\r\n      }\r\n    }\r\n  }, [location.state]);\r\n\r\n  // Detect if device is mobile\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const userAgent = navigator.userAgent.toLowerCase();\r\n      const mobileRegex = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;\r\n      setIsMobile(mobileRegex.test(userAgent));\r\n    };\r\n    \r\n    checkMobile();\r\n  }, []);\r\n\r\n  // Handle camera initialization after video element is mounted\r\n  useEffect(() => {\r\n    if (showCamera && videoRef.current && !isCameraReady) {\r\n      initializeCamera();\r\n    }\r\n  }, [showCamera]);\r\n\r\n  const initializeCamera = async () => {\r\n    try {\r\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\r\n        throw new Error('Camera API is not supported in this browser');\r\n      }\r\n\r\n      // Set initial facing mode based on device type\r\n      const facingMode = isMobile ? 'environment' : 'user';\r\n\r\n      const constraints = {\r\n        video: {\r\n          facingMode: facingMode,\r\n          width: { ideal: 1920 },\r\n          height: { ideal: 1080 }\r\n        }\r\n      };\r\n\r\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n      \r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n        streamRef.current = stream;\r\n        setCurrentFacingMode(facingMode);\r\n        setIsCameraReady(true);\r\n        \r\n        // Ensure video plays after loading\r\n        videoRef.current.onloadedmetadata = () => {\r\n          videoRef.current.play().catch(e => console.error('Error playing video:', e));\r\n        };\r\n      }\r\n    } catch (err) {\r\n      console.error('Error accessing camera:', err);\r\n      setError(getErrorMessage(err));\r\n      setShowCamera(false);\r\n    }\r\n  };\r\n\r\n  const getErrorMessage = (error) => {\r\n    if (error.name === 'NotAllowedError' || error.name === 'PermissionDeniedError') {\r\n      return 'Camera access denied. Please grant camera permissions and try again.';\r\n    } else if (error.name === 'NotFoundError' || error.name === 'DevicesNotFoundError') {\r\n      return 'No camera found on your device.';\r\n    } else if (error.name === 'NotReadableError' || error.name === 'TrackStartError') {\r\n      return 'Camera is in use by another application.';\r\n    } else {\r\n      return `Failed to access camera: ${error.message}`;\r\n    }\r\n  };\r\n\r\n  const toggleCamera = () => {\r\n    if (showCamera) {\r\n      stopCamera();\r\n    } else {\r\n      setShowCamera(true);\r\n    }\r\n  };\r\n\r\n  const switchCamera = async () => {\r\n    const newFacingMode = currentFacingMode === 'user' ? 'environment' : 'user';\r\n    stopCamera();\r\n    \r\n    // Short delay to ensure previous stream is properly stopped\r\n    setTimeout(() => {\r\n      setShowCamera(true);\r\n      setCurrentFacingMode(newFacingMode);\r\n    }, 100);\r\n  };\r\n\r\n  const stopCamera = () => {\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n      streamRef.current = null;\r\n    }\r\n    if (videoRef.current) {\r\n      videoRef.current.srcObject = null;\r\n    }\r\n    setShowCamera(false);\r\n    setIsCameraReady(false);\r\n    setCurrentFacingMode(null);\r\n  };\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      stopCamera();\r\n    };\r\n  }, []);\r\n\r\n  const capturePhoto = () => {\r\n    if (videoRef.current) {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = videoRef.current.videoWidth;\r\n      canvas.height = videoRef.current.videoHeight;\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.drawImage(videoRef.current, 0, 0);\r\n\r\n      canvas.toBlob((blob) => {\r\n        const file = new File([blob], `camera-capture-${Date.now()}.jpg`, { type: 'image/jpeg' });\r\n        setFiles(prevFiles => [...prevFiles, file]);\r\n        setFilePreviews(prevPreviews => [...prevPreviews, URL.createObjectURL(blob)]);\r\n      }, 'image/jpeg', 0.95);\r\n\r\n      stopCamera();\r\n    }\r\n  };\r\n\r\n  const handleEditToggle = () => {\r\n    setIsEditing(!isEditing);\r\n    if (!isEditing) {\r\n      // Reset editable data to current extracted data when starting edit\r\n      setEditableData({ ...extractedData });\r\n    }\r\n  };\r\n\r\n  const handleInlineEdit = (key, value) => {\r\n    setEditableData(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n  };\r\n\r\n  const handleFileChange = (event) => {\r\n    const selectedFiles = Array.from(event.target.files);\r\n    setFiles(prevFiles => [...prevFiles, ...selectedFiles]);\r\n    setFilePreviews(prevPreviews => [...prevPreviews, ...selectedFiles.map(file => URL.createObjectURL(file))]);\r\n  };\r\n\r\n  const scrollToExtractedData = () => {\r\n    extractedDataRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (files.length === 0) {\r\n      setError('Please select at least one ID document');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n    const formData = new FormData();\r\n    files.forEach(file => formData.append('files', file));\r\n\r\n    try {\r\n      const response = await axios.post(`${API_BASE_URL}/upload-id`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      const newExtractedData = response.data.extracted_data;\r\n      setExtractedData(prevData => ({ ...prevData, ...newExtractedData }));\r\n      setEditableData(prevData => ({ ...prevData, ...newExtractedData }));\r\n      setShowScrollIndicator(true);\r\n      // Short delay to ensure the data is rendered before scrolling\r\n      setTimeout(scrollToExtractedData, 500);\r\n    } catch (error) {\r\n      console.error('Error uploading files:', error);\r\n      setError('Failed to upload files. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEditChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setEditableData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleDeleteFile = (indexToDelete) => {\r\n    setFiles(prevFiles => prevFiles.filter((_, index) => index !== indexToDelete));\r\n    setFilePreviews(prevPreviews => prevPreviews.filter((_, index) => index !== indexToDelete));\r\n\r\n    // If we're deleting the last file, also clear the extracted data\r\n    if (files.length === 1) {\r\n      setExtractedData({});\r\n      setEditableData({});\r\n    }\r\n  };\r\n\r\n  const handleUpdateData = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      await axios.post(`${API_BASE_URL}/update-data`, editableData, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      setExtractedData(editableData);\r\n      setIsEditing(false);\r\n      setError(null);\r\n    } catch (error) {\r\n      console.error('Error updating data:', error);\r\n      setError('Failed to update data. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditableData({ ...extractedData });\r\n  };\r\n\r\n  const handleUploadForm = () => {\r\n    navigate('/upload-form', { state: { idFiles: files, extractedData } });\r\n  };\r\n\r\n  const handleSwapNames = () => {\r\n    let Name = editableData['Name'] || '';\r\n    let firstName = editableData['First Name'] || '';\r\n    let lastName = editableData['Last Name'] || '';\r\n\r\n    if (Name) {\r\n      let nameParts = Name.split(' ');\r\n      if (nameParts.length > 1) {\r\n        setEditableData({\r\n          ...editableData,\r\n          'First Name': nameParts.slice(1).join(' '),\r\n          'Last Name': nameParts[0],\r\n        });\r\n      } else {\r\n        setEditableData({\r\n          ...editableData,\r\n          'First Name': '',\r\n          'Last Name': firstName,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderExtractedData = () => {\r\n    if (!extractedData || Object.keys(extractedData).length === 0) {\r\n      return <p>No data extracted yet.</p>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"data-card\">\r\n        {keyOrder.map((key) => (\r\n          <div key={key} className=\"data-row\">\r\n            <span className=\"data-label\">{key}:</span>\r\n            {isEditing ? (\r\n              <div className=\"editable-value\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={editableData[key] || ''}\r\n                  onChange={(e) => handleInlineEdit(key, e.target.value)}\r\n                  className=\"inline-edit-input\"\r\n                  autoFocus={key === keyOrder[0]}\r\n                />\r\n                <Edit2 size={16} className=\"edit-indicator\" />\r\n                {key === 'Last Name' && (\r\n                  <button\r\n                    onClick={handleSwapNames}\r\n                    className=\"swap-names-button\"\r\n                    title=\"Correct First and Last Names\"\r\n                  >\r\n                    <Repeat size={16} />\r\n                  </button>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <span className=\"data-value\">{extractedData[key] || ''}</span>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n    <div className={`preloader ${!loading ? 'preloader-hidden' : ''}`}>\r\n        <div className=\"preloader-content\">\r\n          <h1 className=\"preloader-title\">Smart Form Filler</h1>\r\n          <p className=\"preloader-caption\">Intelligent Document Processing Made Easy</p>\r\n        </div>\r\n      </div>\r\n    <div className={`upload-container ${!loading ? 'content-visible' : ''}`}>\r\n      <h1 className=\"title\">Upload Your ID Card</h1>\r\n\r\n      <div className=\"upload-section\">\r\n        <div className=\"upload-options\">\r\n          <label className=\"file-upload-label\">\r\n            <Upload className=\"upload-icon\" size={32} />\r\n            <span>Click here or drop your ID card images</span>\r\n            <input\r\n              type=\"file\"\r\n              onChange={handleFileChange}\r\n              multiple\r\n              className=\"file-input\"\r\n              accept=\"image/*\"\r\n            />\r\n          </label>\r\n\r\n          <button\r\n            className=\"camera-button\"\r\n            onClick={toggleCamera}\r\n          >\r\n            <Camera size={32} />\r\n            <span>{showCamera ? 'Cancel Camera' : 'Use Camera'}</span>\r\n            <div className=\"device-indicator\">\r\n              {isMobile ? <Smartphone size={16} /> : <Monitor size={16} />}\r\n            </div>\r\n          </button>\r\n        </div>\r\n\r\n        {showCamera && (\r\n          <div className=\"camera-container\">\r\n            <video\r\n              ref={videoRef}\r\n              autoPlay\r\n              playsInline\r\n              className={currentFacingMode === 'user' ? 'camera-preview mirror' : 'camera-preview'}\r\n            />\r\n            {isCameraReady && (\r\n              <div className=\"camera-controls\">\r\n                <button\r\n                  className=\"capture-button\"\r\n                  onClick={capturePhoto}\r\n                  title=\"Take Photo\"\r\n                >\r\n                  <div className=\"capture-button-inner\" />\r\n                </button>\r\n                \r\n                <button\r\n                  className=\"switch-camera-button\"\r\n                  onClick={switchCamera}\r\n                  title=\"Switch Camera\"\r\n                >\r\n                  <RotateCcw size={24} />\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        <div className={`preview-container ${files.length === 1 ? 'single-preview' : ''}`}>\r\n          {filePreviews.map((preview, index) => (\r\n            <div key={index} className=\"preview-card\">\r\n              <img\r\n                src={preview}\r\n                alt={`Uploaded ID ${index + 1}`}\r\n                className=\"preview-image\"\r\n              />\r\n              <div className=\"preview-overlay\">\r\n                <span className=\"preview-number\">ID {index + 1}</span>\r\n                <button\r\n                  className=\"delete-button\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleDeleteFile(index);\r\n                  }}\r\n                  title=\"Delete Image\"\r\n                >\r\n                  <Trash2 size={20} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {files.length > 0 && (\r\n          <button\r\n            onClick={handleUpload}\r\n            className={`action-button upload-button ${isLoading ? 'loading' : ''}`}\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? (\r\n              <>\r\n                <div className=\"button-spinner\"></div>\r\n                Processing...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Upload size={20} />\r\n                Process ID Cards\r\n              </>\r\n            )}\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n\r\n      {showScrollIndicator && !isLoading && Object.keys(extractedData).length === 0 && (\r\n        <div className=\"scroll-indicator\" onClick={scrollToExtractedData}>\r\n          <span>View Extracted Data</span>\r\n          <ChevronDown size={24} className=\"bounce\" />\r\n        </div>\r\n      )}\r\n\r\n      {Object.keys(extractedData).length > 0 && (\r\n        <div className=\"extracted-data-section\" ref={extractedDataRef}>\r\n          <div className=\"section-header\">\r\n            <h2 className=\"section-title\">Extracted Information</h2>\r\n            <div className=\"edit-controls\">\r\n              {isEditing ? (\r\n                <>\r\n                  <button\r\n                    onClick={handleUpdateData}\r\n                    className=\"action-button save-button\"\r\n                    disabled={isLoading}\r\n                  >\r\n                    {isLoading ? (\r\n                      <div className=\"button-spinner\"></div>\r\n                    ) : (\r\n                      <>\r\n                        <Check size={20} />\r\n                        Save Changes\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                  <button\r\n                    onClick={handleCancelEdit}\r\n                    className=\"action-button cancel-button\"\r\n                    disabled={isLoading}\r\n                  >\r\n                    <X size={20} />\r\n                    Cancel\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <button\r\n                  onClick={handleEditToggle}\r\n                  className=\"action-button edit-button\"\r\n                >\r\n                  <Edit2 size={20} />\r\n                  Edit Details\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {renderExtractedData()}\r\n\r\n            {!isEditing && (\r\n              <button\r\n                onClick={handleUploadForm}\r\n                className=\"action-button next-button\"\r\n              >\r\n                Continue to Form\r\n                <ArrowRight size={20} />\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n      <div className=\"footer-container\">\r\n        <div className=\"logo-section\">\r\n          <h2 className=\"logo-text\">Smart Form Filler</h2>\r\n          <p className=\"logo-caption\">Intelligent Document Processing Made Easy</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UploadID;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}